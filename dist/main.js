({138:function(){const e=document.querySelector("ul.wyniki"),t=document.querySelector("input.priority"),o=document.querySelector("input.name"),r=document.querySelector("input.author"),n=document.querySelector("select"),s=(document.querySelector("button.add"),document.querySelector("form"),document.querySelector("h1.ile")),a=document.querySelector("select.filtr"),c=document.querySelector("select.searchSelect"),l=document.querySelector("form.search"),d=document.querySelector("input.searchInput");let u;localStorage.getItem("books")?store=JSON.parse(localStorage.getItem("books")):store=[],s.textContent=store&&store.length;const i=(s,a)=>{a.preventDefault();const c=o.value,l=r.value,d=t.value;if(!c||!l||!d)return alert("Wypełnij każde pole");if(s){e.innerHTML="";const t={nameEdited:c,authorEdited:l,scoreEdited:d,ganreEdited:n.value},o=[...store],r=o.findIndex((e=>e.id===s));o[r].name=t.nameEdited,o[r].author=t.authorEdited,o[r].ganre=t.ganreEdited,o[r].score=t.scoreEdited,store=o;let a=store.sort(((e,t)=>e.score-t.score));a.reverse(),store=a,store.map((e=>{m(u,e,!0)})),localStorage.setItem("books",JSON.stringify(store))}else{e.innerHTML="",store.push({name:c,score:d,author:l,ganre:n.value,id:Math.random()});let t=store.sort(((e,t)=>e.score-t.score));t.reverse(),store=t,store.map((e=>{m(u,e,!0)}))}localStorage.setItem("books",JSON.stringify(store))},m=(t,o,r)=>{(t=document.createElement("li")).id=o.id;const n=document.createElement("h2");n.textContent=o.name;const a=document.createElement("h2");a.textContent=o.author;const c=document.createElement("h2");c.textContent=o.ganre;const l=document.createElement("h2");l.textContent=o.score;const d=document.createElement("button");d.textContent="Usuń";const u=document.createElement("button");u.textContent="Edytuj",r&&(t.appendChild(n),t.appendChild(a),t.appendChild(c),t.appendChild(l),t.appendChild(d),t.appendChild(u),e.appendChild(t),d.addEventListener("click",(e=>{e==t.id&&t.remove();const o=store.filter((t=>t.id!==e));store=o,s.textContent=store.length,localStorage.setItem("books",JSON.stringify(store))}).bind(this,o.id)),u.addEventListener("click",(e=>{i(e,event)}).bind(this,o.id)),s.textContent=store.length)};store.length>0&&store.map((e=>{m(u,e,!0)})),document.querySelector("form.addBook").addEventListener("submit",i.bind(null,event)),a.addEventListener("change",(()=>{e.innerHTML="";let t=a.value;console.log(t),"author"===t?[...store].sort((function(e,t){return e.author<t.author?-1:e.author>t.author?1:0})).map((e=>{m(u,e,!0)})):"ganre"===t?[...store].sort((function(e,t){return e.ganre<t.ganre?-1:e.ganre>t.ganre?1:0})).map((e=>{m(u,e,!0)})):"score"===t?store.map((e=>{m(u,e,!0)})):console.log("else?")}).bind(this)),l.addEventListener("submit",(t=>{t.preventDefault(),e.innerHTML="";let o=c.value;console.log(o);const r=d.value;let n=[...store];"ganre"===o?(n=n.filter((e=>e.ganre==r)),n.map((e=>{m(u,e,!0)}))):"score"===o?(n=n.filter((e=>e.score==r)),n.map((e=>{m(u,e,!0)}))):"author"===o?(n=n.filter((e=>e.author==r)),n.map((e=>{m(u,e,!0)}))):store.map((e=>{m(u,e,!0)}))}))}})[138]();